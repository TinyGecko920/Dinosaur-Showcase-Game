{
  "associatedLayout": "Game",
  "lastChangeTimeStamp": 0,
  "name": "Dinosaurs",
  "events": [
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Pathfinding",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Distance"
              },
              "parameters": [
                "Dinosaurs",
                "Player",
                "Dinosaurs.AgroDistanceInPixels",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PathfindingBehavior::SetDestination"
              },
              "parameters": [
                "Dinosaurs",
                "Pathfinding",
                "",
                "Player.X()",
                "Dinosaurs.Y()"
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Attack",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Distance"
              },
              "parameters": [
                "Dinosaurs",
                "Player",
                "Dinosaurs.AttackRange",
                ""
              ]
            },
            {
              "type": {
                "value": "ObjectVariableAsBoolean"
              },
              "parameters": [
                "Dinosaurs",
                "_Attacking",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetObjectVariableAsBoolean"
              },
              "parameters": [
                "Dinosaurs",
                "_Attacking",
                "True"
              ]
            },
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "Dinosaurs",
                "Animation",
                "=",
                "\"Attack\""
              ]
            },
            {
              "type": {
                "value": "Health::Health::Hit"
              },
              "parameters": [
                "Player",
                "Health",
                "RandomFloatInRange(Dinosaurs.MinDamage, Dinosaurs.MaxDamage)",
                "",
                "",
                ""
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "RandomFloatInRange(Dinosaurs.MinAttackCooldown, Dinosaurs.MaxAttackCooldown)"
              ]
            },
            {
              "type": {
                "value": "SetObjectVariableAsBoolean"
              },
              "parameters": [
                "Dinosaurs",
                "_Attacking",
                "False"
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Health",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsJustDamaged"
              },
              "parameters": [
                "Dinosaurs",
                "Health",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "DamageNumber",
                "-9999",
                "-9999",
                "\"Billboards\""
              ]
            },
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "DamageNumber",
                "Damage",
                "=",
                "floor(Dinosaurs.Health::PreviousDamageTaken())"
              ]
            },
            {
              "type": {
                "value": "SetCenter"
              },
              "parameters": [
                "DamageNumber",
                "=",
                "Dinosaurs.CenterX() + RandomInRange(-16, 16)",
                "=",
                "Dinosaurs.Y() + RandomInRange(-16, 16)"
              ]
            },
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "DamageNumber",
                "CenterX",
                "=",
                "DamageNumber.CenterX()"
              ]
            },
            {
              "type": {
                "value": "Tween::AddObjectVariableTween2"
              },
              "parameters": [
                "DamageNumber",
                "Tween",
                "\"spacing\"",
                "Spacing",
                "4",
                "\"easeOutQuad\"",
                "400",
                ""
              ]
            },
            {
              "type": {
                "value": "Tween::AddObjectPositionYTween"
              },
              "parameters": [
                "DamageNumber",
                "Tween",
                "\"levitate\"",
                "DamageNumber.CenterY() - 300",
                "\"easeInQuad\"",
                "RandomInRange(800, 1200)",
                ""
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "0.2"
              ]
            },
            {
              "type": {
                "value": "Tween::AddObjectOpacityTween"
              },
              "parameters": [
                "DamageNumber",
                "Tween",
                "\"fade\"",
                "0",
                "\"easeOutCubic\"",
                "500",
                "yes"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Health::Health::IsDead"
              },
              "parameters": [
                "Dinosaurs",
                "Health",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "Dinosaurs",
                ""
              ]
            },
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "TopDownPlayer",
                "Gold",
                "+",
                "ceil(RandomFloatInRange(Dinosaurs.MinGoldDrop, Dinosaurs.MaxGoldDrop))"
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Animate",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::Name"
              },
              "parameters": [
                "Dinosaurs",
                "Animation",
                "=",
                "\"Attack\""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::HasAnimationEnded"
                  },
                  "parameters": [
                    "Dinosaurs",
                    "Animation"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "AnimatableCapability::AnimatableBehavior::SetName"
                  },
                  "parameters": [
                    "Dinosaurs",
                    "Animation",
                    "=",
                    "\"Idle\""
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PathfindingBehavior::Speed"
              },
              "parameters": [
                "Dinosaurs",
                "Pathfinding",
                ">",
                "0"
              ]
            },
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::Name"
              },
              "parameters": [
                "Dinosaurs",
                "Animation",
                "!=",
                "\"Attack\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "Dinosaurs",
                "Animation",
                "=",
                "\"Run\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PathfindingBehavior::Speed"
              },
              "parameters": [
                "Dinosaurs",
                "Pathfinding",
                "<=",
                "0"
              ]
            },
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::Name"
              },
              "parameters": [
                "Dinosaurs",
                "Animation",
                "!=",
                "\"Attack\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetName"
              },
              "parameters": [
                "Dinosaurs",
                "Animation",
                "=",
                "\"Idle\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PathfindingBehavior::PathfindingBehavior::MovementAngleIsAround"
              },
              "parameters": [
                "Dinosaurs",
                "Pathfinding",
                "0",
                "89"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "FlippableCapability::FlippableBehavior::FlipX"
              },
              "parameters": [
                "Dinosaurs",
                "Flippable",
                "yes"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PathfindingBehavior::PathfindingBehavior::MovementAngleIsAround"
              },
              "parameters": [
                "Dinosaurs",
                "Pathfinding",
                "-180",
                "89"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "FlippableCapability::FlippableBehavior::FlipX"
              },
              "parameters": [
                "Dinosaurs",
                "Flippable",
                "no"
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [
        {
          "type": {
            "value": "BBText::SetBBText"
          },
          "parameters": [
            "DamageNumber",
            "=",
            "\"[b][outline=black][spacing=\" + ToString(floor(DamageNumber.Spacing)) + \"]\" + ToString(round(DamageNumber.Damage)) + \"[/spacing][/outline][/b]\""
          ]
        },
        {
          "type": {
            "value": "SetCenterX"
          },
          "parameters": [
            "DamageNumber",
            "=",
            "DamageNumber.CenterX"
          ]
        }
      ]
    }
  ]
}